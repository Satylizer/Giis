# Отчет по программе "Интерактивная триангуляция Делоне и диаграмма Вороного"

## Общее описание
Эта программа реализует интерактивное приложение для визуализации **триангуляции Делоне** и **диаграммы Вороного** на основе пользовательских точек. Приложение позволяет добавлять точки щелчком мыши, очищать холст, а также переключать отображение дополнительных элементов: вершин диаграммы Вороного и окружностей, описанных вокруг треугольников Делоне.

Программа написана на Python с использованием библиотек:
- `matplotlib` — для построения графиков и создания GUI.
- `numpy` — для работы с массивами данных.
- `scipy.spatial` — для вычисления триангуляции Делоне и диаграммы Вороного.

---

## Функциональные возможности

### Основные функции
- **Добавление точек**: пользователь может добавлять точки щелчком мыши на левом графике (Delaunay).
- **Очистка холста**: кнопка "Clear Points" удаляет все точки и обновляет изображение.
- **Отображение/скрытие вершин диаграммы Вороного**: кнопка "Toggle Voronoi Vertices".
- **Отображение/скрытие окружностей, описанных вокруг треугольников Делоне**: кнопка "Toggle Circumcircles".

---

## Архитектура программы

### Класс `InteractiveTriangulationVoronoi`
Основной класс приложения управляет состоянием, взаимодействием с пользователем и отрисовкой графиков.

#### Основные атрибуты
- `points`: список точек, добавленных пользователем.
- `fig`: объект matplotlib Figure, содержащий два графика.
- `ax_delaunay`, `ax_voronoi`: оси графиков для триангуляции Делоне и диаграммы Вороного.
- `show_voronoi_vertices`: флаг отображения вершин диаграммы Вороного.
- `show_circumcircles`: флаг отображения окружностей вокруг треугольников Делоне.

---

## Реализация алгоритмов

### Триангуляция Делоне
Триангуляция выполняется с помощью `Delaunay()` из `scipy.spatial`. Для каждой тройки точек строится треугольник, если они не коллинеарны.

#### Окружности вокруг треугольников
Для каждого треугольника вычисляется центр и радиус окружности, которая проходит через его вершины. Эти окружности отображаются как пунктирные круги пурпурного цвета.

Формулы для центра окружности:
```python
center_x = ((p1[0]**2 + p1[1]**2) * (p2[1] - p3[1]) +
            (p2[0]**2 + p2[1]**2) * (p3[1] - p1[1]) +
            (p3[0]**2 + p3[1]**2) * (p1[1] - p2[1])) / D_val

center_y = ((p1[0]**2 + p1[1]**2) * (p3[0] - p2[0]) +
            (p2[0]**2 + p2[1]**2) * (p1[0] - p3[0]) +
            (p3[0]**2 + p3[1]**2) * (p2[0] - p1[0])) / D_val
```

Где:
```python
D_val = 2 * (p1[0] * (p2[1] - p3[1]) + p2[0] * (p3[1] - p1[1]) + p3[0] * (p1[1] - p2[1]))
```

### Диаграмма Вороного
Диаграмма Вороного строится с использованием `Voronoi()` и `voronoi_plot_2d()` из `scipy.spatial`.

---

## Интерфейс пользователя

### Графики
- **Левый график (`ax_delaunay`)**: отображает триангуляцию Делоне.
- **Правый график (`ax_voronoi`)**: отображает диаграмму Вороного.

### Управление
- **Клик мышью**: добавляет точку на график.
- **Кнопка "Clear Points"**: очищает все точки.
- **Кнопка "Toggle Voronoi Vertices"**: включает/выключает отображение вершин диаграммы Вороного.
- **Кнопка "Toggle Circumcircles"**: включает/выключает отображение окружностей вокруг треугольников.

---

## Цветовая схема и стили

| Элемент | Цвет | Стиль |
|--------|------|-------|
| Точки (sites) | Красный | Круг, размер 5 |
| Ребра триангуляции Делоне | Синий | Линии |
| Вершины диаграммы Вороного | Оранжевый | Точки |
| Ребра диаграммы Вороного | Оранжевый | Пунктирные линии |
| Окружности вокруг треугольников | Фиолетовый | Пунктирные окружности |

---

## Обработка ошибок
В коде предусмотрены блоки `try-except` для предотвращения краха программы при возникновении исключений:
- При работе с триангуляцией Делоне.
- При построении диаграммы Вороного.

---

## Возможности расширения

1. **Сохранение изображения**: возможность сохранять текущий вид графиков в файл.
2. **Поддержка движения точек**: редактирование уже добавленных точек.
3. **Анимация**: показ шагов построения триангуляции или диаграммы.
4. **Масштабирование и прокрутка**: поддержка зума для более точного размещения точек.
5. **3D-версия**: переход к трехмерной триангуляции и диаграмме Вороного.

---

## Заключение
Программа предоставляет удобный интерфейс для изучения и визуализации важных геометрических структур — триангуляции Делоне и диаграммы Вороного. Она может быть полезна студентам, исследователям и разработчикам, занимающимся компьютерной графикой, геометрией и анализом пространственных данных.
